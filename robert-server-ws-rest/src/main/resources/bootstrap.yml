management:
  endpoint:
    refresh:
      enabled: true
  endpoints:
    web:
      exposure:
        include: refresh

server:
  port: ${ROBERT_SERVER_PORT:8086}

spring:
  application:
    name: robert-server
  data:
    mongodb:
      uri: ${ROBERT_SERVER_DB_URI:mongodb://${ROBERT_SERVER_DB_HOST:localhost}:${ROBERT_SERVER_DB_PORT:27017}/${ROBERT_SERVER_DB_NAME:protectedRobertDB}}
  cloud:
    config:
      profile: dev
      label: ${ROBERT_CONFIG_LABEL:dev}
      uri: ${ROBERT_CONFIG_URI:http://localhost:8888/spring-config}

eureka:
  client:
    service-url:
      defaultZone: ${EUREKA_URI:http://localhost:8761/eureka}
    registerWithEureka: true
    fetchRegistry: false
  instance:
    prefer-ip-address: true
    
captcha:
  hostname: ${CAPTCHA_HOSTNAME:stopc.gouv.fr}
  secret: ${CAPTCHA_SECRET:123456}
  verify-url: ${VERIFY_URL:https://www.google.com/recaptcha/api/siteverify}

debug: ${ROBERT_SERVER_DEBUG_ERRORS:false}

robert:
  server:
    esr-limit: ${ROBERT_ESR_LIMIT:1}
    controller-path-prefix: /api/v1
  crypto:
    hostname: ${ROBERT_CRYPTO_SERVER_HOST:localhost}
    port: ${ROBERT_CRYPTO_SERVER_PORT:9091}

submissionCode:
  server:
    hostname: ${SUBMISSION_CODE_SERVER_HOST:localhost}
    port: ${SUBMISSION_CODE_SERVER_PORT:8087}
    verify-path: /api/v1/verify